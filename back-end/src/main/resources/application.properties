## ===============================
## = STATIC
## ===============================
spring.resources.static-locations=http://localhost:3001/
spring.application.name=SOFTPLAN-DESAFIO-FULLSTACK

## ===============================
## = LOGGING
## ===============================
logging.level.root=INFO
logging.level.org.springframework.web=INFO
logging.level.org.hibernate=INFO
# ===============================
# = DATA SOURCE
# ===============================
spring.datasource.url=jdbc:${DATABASE_URL}
spring.datasource.username=${DATABASE_USER}
spring.datasource.password=${DATABASE_PASSWORD}
spring.datasource.testWhileIdle=true
spring.datasource.validationQuery=SELECT 1
# ===============================
# = JPA / HIBERNATE
# ===============================
spring.jpa.show-sql=false
spring.jpa.hibernate.ddl-auto=none
spring.jpa.database-platform=org.hibernate.dialect.PostgreSQLDialect
spring.datasource.driverClassName=org.postgresql.Driver
spring.jpa.properties.hibernate.jdbc.lob.non_contextual_creation=true
# ===============================

# ==============================================================
# = Spring Security / Queries for AuthenticationManagerBuilder
# ==============================================================
spring.queries.users-query=select us_email, us_senha, true as enabled from softplan.tb_usuario where us_email=?
spring.queries.roles-query=select us.us_email, pe.pe_nome from softplan.tb_permissao pe join softplan.tb_permissao_papel ppe on ppe.pe_id = pe.pe_id  join softplan.tb_papel pp on pp.pp_id = ppe.pp_id  join softplan.tb_usuario us on us.pp_id = pp.pp_id  where us.us_email = ?
